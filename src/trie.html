
<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>trie</title>
    <style type="text/css" media="screen">
      html, body, div, span, object, iframe, h1, h2, h3, h4, h5, h6, p,
      blockquote, pre, a, abbr, address, cite, code, del, dfn, em, figure,
      img, ins, kbd, q, s, samp, small, strong, sub, sup, var, b, u, i, dl,
      dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption,
      tbody, tfoot, thead, tr, th, td {
        background: transparent none repeat scroll 0 0;
        border: 0 none;
        font-size: 100%;
        margin: 0;
        outline: 0 none;
        padding: 0;
        vertical-align: baseline;
      }

      .color_red { color: #dc322f; }
      .color_blue { color: #268bd2; }
      .color_green { color: #859901; }
      .color_yellow { color: #b58901; }
      .color_black { color: black; }
      .color_white { color: white; }

      .font_big {
        font-size: 1.2em;
      }

      .ddoc_section_h {
        font-weight: bold;
        font-size: 13px;
        line-height: 19.5px;
        margin-top: 11px;
        display: block;
      }

      body.dlang .dlang {
        display: inline-block;
      }

      body.dlang .declaration .dlang {
          display: block;
      }

      body.dlang .ddoc_header_anchor a.dlang {
        display: block;
        color: rgba(0, 136, 204, 1);
        text-decoration: none;
      }

      body.dlang .ddoc_header_anchor .code {
        color: rgba(0, 136, 204, 1);
      }

      #ddoc_main .module {
          border-color: currentColor rgba(233, 233, 233, 1) rgba(233, 233, 233, 1);
          border-style: none solid solid;
          border-width: 0 1px 1px;
          overflow-x: hidden;
          padding: 15px;
      }

      #ddoc_main .section .section {
        margin-top: 0;
      }

      #ddoc_main .ddoc_module_members_section {
          padding: 1px 0 0;
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .ddoc_member, #ddoc_main .ddoc_module_members section.intro {
          background: #fff none repeat scroll 0 0;
          list-style-type: none;
          width: 100%;
      }

      #ddoc_main .ddoc_header_anchor {
          font-size: 1.4em;
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .ddoc_header_anchor > .code {
          display: inline-block;

      }

      #ddoc_main .ddoc_decl {
        background-color: transparent;
        height: 100%;
        left: 0;
        top: 0;
        padding: 0;
        padding-left: 15px;
      }

      #ddoc_main .ddoc_decl .section, #ddoc_main .section.ddoc_sections {
        background: white none repeat scroll 0 0;
        margin: 0;
        padding: 5px;
        position: relative;
        border-radius: 5px;
      }

      #ddoc_main .ddoc_decl .section h4, #ddoc_main .section.ddoc_sections h4 {
        font-size: 13px;
        line-height: 1.5;
        margin-top: 21px;
      }

      #ddoc_main .section .declaration {
          margin-top: 21px;
      }

      #ddoc_main .section .declaration .code {
          color: rgba(0, 0, 0, 1);
          margin-bottom: 15px;
          padding-bottom: 6px;
      }

      #ddoc_main .declaration div .para {
          margin-bottom: 0;
      }

      #ddoc_main .ddoc_params .graybox tr td:first-of-type {
        padding: 7px;
        text-align: right;
        vertical-align: top;
        word-break: normal;
        white-space: nowrap;
      }

      #ddoc_main .ddoc_params .graybox {
        border: 0 none;
      }

      #ddoc_main .ddoc_params .graybox td {
        border-color: rgba(214, 214, 214, 1);
      }

      #ddoc_main .ddoc_params .graybox tr:first-child > td {
        border-top: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr:last-child > td {
        border-bottom: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr > td:first-child {
        border-left: 0 none;
      }

      #ddoc_main .ddoc_params .graybox tr > td:last-child {
        border-right: 0 none;
        width: 100%;
      }

      #ddoc_main em.term, #ddoc_main em.term .code {
        color: rgba(65, 65, 65, 1);
        font-size: 12px;
        font-style: italic;
        line-height: 1.5;
      }

      #ddoc_main .see-also {
        cursor: pointer;
        font-family: Menlo,monospace;
      }

      #ddoc_main .ddoc_decl .section > div:last-of-type {
        margin-bottom: 15px;
      }

      #ddoc_main .ddoc_member, #ddoc_main .ddoc_module_members {
          transition: transform 0.3s ease 0s;
      }

      #ddoc_main .code_sample {
        background: inherit;
      }

      #ddoc_main .declaration .code-line {
          display: block;
          font: 1em Menlo,monospace;
      }

      #ddoc_main a[name] {
        margin: -112px 0 0;
        padding-top: 112px;
      }

      #ddoc_main .ddoc_decl td {
        max-width: inherit;
      }

      #ddoc_main .declaration a {
        color: inherit;
      }

      #ddoc_main .declaration a:hover {
          color: rgba(0, 136, 204, 1);
          text-decoration: underline;
      }

      body.ddoc {
        background-color: transparent;
        color: rgba(0, 0, 0, 1);
        font-family: Helvetica,Arial,sans-serif;
        font-size: 62.5%;
        margin: 0;
        border: 0;
        left: 0;
        top: 0;
        padding: 0;
      }

      .ddoc a[name] {
        display: block;
        height: 0;
        margin: -85px 0 0;
        padding-top: 85px;
        width: 0;
      }

      .ddoc .module {
          border-color: transparent;
          background-color: rgba(255, 255, 255, 1);
          border-color: currentColor rgba(233, 233, 233, 1) rgba(233, 233, 233, 1);
          border-image: none;
          border-style: none solid solid;
          border-width: 0 1px 1px;
          box-shadow: 0 0 1px rgba(0, 0, 0, 0.07);
          display: block;
          margin-left: 0;
          min-height: calc(100% - 173px);
          overflow: auto;
          padding-bottom: 100px;
      }

      .ddoc .content_wrapper {
          background-color: rgba(242, 242, 242, 1);
          margin: 0 auto;
          max-width: 980px;
      }

      .ddoc .section {
        padding: 15px 25px 30px;
      }

      .ddoc .section .section {
        margin: 30px 0 0;
        padding: 0;
      }

      .ddoc .para {
        color: rgba(65, 65, 65, 1);
        font-size: 1.4em;
        line-height: 145%;
        margin-bottom: 15px;
      }

      .ddoc .ddoc_examples .para {
        margin-bottom: 0;
      }

      .ddoc .module_name {
          color: rgba(0, 0, 0, 1);
          display: block;
          font-family: Helvetica;
          font-size: 2.8em;
          font-weight: 100;
          margin-bottom: 0;
          padding: 15px 0;
      }

      .ddoc .module a {
          color: rgba(0, 136, 204, 1);
          text-decoration: none;
      }

      .ddoc .code {
        color: rgba(128, 128, 128, 1);
        font-family: Menlo,monospace;
        font-size: 0.85em;
        word-wrap: break-word;
      }

      .ddoc .code i {
        font-style: normal;
      }

      .ddoc .code .code {
        font-size: 1em;
      }

      .ddoc .code_sample {
        background-clip: padding-box;
        margin: 1px 0;
        text-align: left;
      }

      .ddoc .code_sample {
        display: block;
        font-size: 1.4em;
        margin-left: 21px;
      }

      .ddoc ol .code_sample {
        font-size: 1em;
      }

      .ddoc .code_lines {
        counter-reset: li;
        line-height: 1.6em;
        list-style: outside none none;
        margin: 0;
        padding: 0;
      }

      .ddoc .code_listing .code_sample div {
        margin-left: 13px;
        width: 93%;
      }

      .ddoc .code_listing .code_sample div .code_lines li {
        list-style-type: none;
        margin: 0;
        padding-right: 10px;
      }

      .ddoc .code_sample div .code_lines li::before {
        margin-left: -33px;
        margin-right: 25px;
      }

      .ddoc .code_sample div .code_lines li:nth-child(n+10)::before {
        margin-left: -39px;
        margin-right: 25px;
      }

      .ddoc .code_sample div .code_lines li:nth-child(n+100)::before {
        margin-left: -46px;
        margin-right: 25px;
      }

      .ddoc .code_sample .code_lines .code {
        color: #000;
      }

      .ddoc div.dlang {
        margin: 10px 0 21px;
        padding: 4px 0 2px 10px;
      }

      .ddoc div.dlang {
          margin: 10px 0 21px;
          padding: 4px 0 2px 10px;
      }

      .ddoc div.dlang {
        border-left: 5px solid rgba(0, 155, 51, 0.2);
      }

      .ddoc .code_lines li::before {
        color: rgba(128, 128, 128, 1);
        content: counter(li, decimal);
        counter-increment: li;
        font-family: Menlo,monospace;
        font-size: 0.9em;
        margin-right: 16px;
      }

      .ddoc .code_lines li {
        padding-left: 0;
        white-space: pre-wrap;
      }

      .ddoc .code_lines li:only-of-type::before {
        color: rgba(255, 255, 255, 1);
        content: " ";
      }

      .ddoc .code_lines li:only-of-type {
        color: rgba(255, 255, 255, 1);
        content: " ";
      }

      .ddoc .code_lines li:nth-child(n+10) {
        text-indent: -17px;
      }

      .ddoc .code_lines li:nth-child(n+10)::before {
        margin-right: 12px;
      }

      .ddoc .graybox {
        border: 1px solid rgba(233, 233, 233, 1);
        border-collapse: collapse;
        border-spacing: 0;
        empty-cells: hide;
        margin: 20px 0 36px;
        text-align: left;
      }

      .ddoc .graybox p {
        margin: 0;
        min-width: 50px;
      }

      .ddoc td {
        border: 1px solid rgba(233, 233, 233, 1);
        margin: 0;
        max-width: 260px;
        padding: 5px 25px 5px 10px;
        vertical-align: middle;
      }

      .punctuation {
        color: rgba(0, 0, 0, 1);
      }

      .comment {
        color: rgba(0, 131, 18, 1);
      }

      .operator {
        color: #000;
      }

      .keyword {
        color: rgba(170, 13, 145, 1);
      }

      .keyword_type {
        color: rgba(170, 51, 145, 1);
      }

      .string_literal {
        color: rgba(196, 26, 22, 1);
      }

      .ddoc_psuper_symbol {
        color: rgba(92, 38, 153, 1);
      }

      .param {
        color: rgba(0, 0, 0, 1);
      }

      .psymbol {
        color: rgba(0, 0, 0, 1);
      }

      .ddoc_member_header .ddoc_header_anchor .code {
        font-size: 1em;
      }
    </style>
  </head>
  <body id="ddoc_main" class="ddoc dlang">
    <div class="content_wrapper">
      <article class="module">
        <h1 class="module_name">trie</h1>
        <section id="module_content"><section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Tries and Prefix Trees.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    Implementation is layered:
    <ul>    <li><code class="code">RawRadixTree</code> stores its untyped keys as variable length ubyte-strings (<code class="code">UKey</code>)</li>
    <li>On top of that <code class="code">RadixTree</code> implements typed-key access via its template parameter <code class="code">Key</code>.</li>
    </ul>
    Both layers currently
    <ul>    <li>have template parameterization on the <code class="code">Value</code>-type in the map case (when <code class="code">Value</code> is non-<code class="code">void</code>)</li>
    <li>are completely <code class="code">@nogc</code> and, when possible, <code class="code">@safe pure nothrow</code></li>
    <li>Insertion with returned modifications status: <code class="code">auto newKeyWasInserted = set.insert(Key key)</code></li>
    <li>Support AA-style <code class="code">in</code>-operator</li>
      <ul>      <li><code class="code">key in set</code> is <code class="code">bool</code> for set-case</li>
      <li><code class="code">key in map</code> returns non-<code class="code">null</code> <code class="code">value</code> pointer when <code class="code">key</code> is stored in <code class="code">map</code></li>
      </ul>
    <li>AA-style iteration of map keys: <code class="code">map.byKey()</code></li>
    <li>AA-style iteration of map values: <code class="code">map.byValue()</code></li>
    <li><code class="code">SortedRange</code>-style iteration over elements sorted by key: <code class="code">assert(set[].isSorted)</code></li>
    <li>Containment checking: <code class="code">bool contains(in Key key)</code></li>
    <li>Elt indexing and element index assignment for map case via <code class="code">opIndex</code> and <code class="code">opIndexAssign</code></li>
    <li>Key-Prefix Completion (returning a <code class="code">Range</code> over all set/map-elements that match a key prefix): <code class="code">prefix(Key keyPrefix)</code></li>
    </ul>
    Typed layer supports
    <ul>    <li>ordered access of aggregate types</li>
    </ul>


  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
     for a descriptive usage of prefixed access.


    TODO 1. Replace all uses of Tuple/tuple with structs, especially <code class="code">alias Elt</code>
    TODO 2. Make as many members as possible free functionss, such as lowerBound, free-functions to reduce compilation times.
    TODO 3. Remove refcounting


    TODO Use scope on <code class="code">Range</code>, <code class="code">RawRange</code> and members that return key and value reference when DIP-1000 has been implemented


    TODO Encode and <code class="code">string</code> with zero-terminating 0 byte


    TODO


    Replace
    case undefined: return typeof(return).init; // terminate recursion
    with
    case undefined: return curr;


  </p>
</div>
<div class="ddoc_section">
  <p class="para">
    <span class="ddoc_section_h">TODO:</span>
    TODO Make <code class="code">Key</code> and Ix[]-array of <code class="code">immutable Ix</code> like <code class="code">string</code>


    TODO Allow <code class="code">Node</code>-constructors to take const and immutable prefixes and then
    make <code class="code">toRawKey</code> and <code class="code">toTypedKey</code> accept return const-slices


    TODO Use <code class="code">expandVariableLength</code> in <code class="code">reconstructingInsert</code> that uses
    x.realloc(2*n) instead of x.free(n)-malloc(2*n)


    TODO Remove @trusted from VLA (variable length array)-members of SparseBranch/SparseLeaf and make their callers @trusted instead.
    TODO Assure that ~this() is run for argument <code class="code">nt</code> in <code class="code">freeNode</code>. Can we use <code class="code">postblit()</code> for this?
    TODO Search for "functionize this loop or reuse memmove" and use move()
    TODO Add Branch-hint allocation flag and re-benchmark construction of <code class="code">radixTreeSet</code> with 10000000 uints
    TODO Add sortedness to <code class="code">IxsN</code> and make <code class="code">IxsN.contains()</code> use <code class="code">binarySearch()</code>. Make use of <code class="code">sortn</code>.
    TODO Check for case when expanding to bit-branch instead of <code class="code">SparseBranch</code> in all <code class="code">expand()</code> overloads
    TODO Make array indexing/slicing as @trusted and use .ptr[] instead of [] when things are stable.
    TODO Add various extra packings in MixLeaf1to4: number of
    - Ix  (0,1,2,3,4,5,6): 3-bits
    - Ix2 (0,1,2,3): 2-bits
    - Ix3 (0,1,2): 2-bits
    - Ix4 (0,1): 1-bit
    Total bits 8-bits
    Possible packings with 6 bytes
    - 4_
    - 4_2
    - 4_2
    - 4_2_1
    - 4_1
    - 4_1_1
    - 3_2
    - 3_2_1
    - 3_1
    - 3_1_1
    - 3_1_1_1
    - 2_2_2
    - 2_2
    - 2_2_1
    - 2_2_1_1
    - 2
    - 2_1
    - 2_1_1
    - 2_1_1_1
    - 2_1_1_1_1
    - 1
    - 1_1
    - 1_1_1
    - 1_1_1_1
    - 1_1_1_1_1
    - 1_1_1_1_1_1


    TODO Sorted Range Primitives over Keys


    - Returns a range of elements which are equivalent (though not necessarily equal) to value.
      auto equalRange(this This)(inout T value)


    - Returns a range of elements which are greater than low and smaller than highValue.
      auto bound(this This)(inout T lowValue, inout T highValue)


    - Returns a range of elements which are less than value.
      auto lowerBound(this This)(inout T value)


    - Returns a range of elements which are greater than value.
      auto upperBound(this This)(inout T value)


    TODO opBinaryRight shall return <code class="code">_rawTree.ElementRef</code> instead of <code class="code">bool</code>


    TODO Fix vla-allocations in constructVariableLength according
    C11-recommendations. For reference set commit
    d2f1971dd570439da4198fa76603b53b072060f8 at

  </p>
</div>
<div class="ddoc_section">
  <p class="para">
    <span class="ddoc_section_h">https:</span>
//github.com/emacs-mirror/emacs.git
  </p>
</div>

</section>
<section class="section ddoc_module_members_section">
  <div class="ddoc_module_members">
    <ul class="ddoc_members">
  <li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#isScalarTrieableKeyType" id="isScalarTrieableKeyType"><code class="code">isScalarTrieableKeyType</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="isScalarTrieableKeyType"></span>enum auto <code class="code">isScalarTrieableKeyType</code>(T);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code">T</code> is a scalar trie key-type, <code class="code">false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#isTrieableKeyType" id="isTrieableKeyType"><code class="code">isTrieableKeyType</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="isTrieableKeyType"></span>template <code class="code">isTrieableKeyType</code>(T)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code">T</code> is a type that can be stored as a key in a trie, <code class="code"> false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#Ix" id="Ix"><code class="code">Ix</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="Ix"></span>alias <code class="code">Ix</code> = modulo.Mod!(256LU, ubyte).Mod;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Radix Modulo Index
    Restricted index type avoids range checking in array indexing below.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#UIx" id="UIx"><code class="code">UIx</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="UIx"></span>alias <code class="code">UIx</code> = modulo.Mod!(256LU, uint).Mod;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Radix Modulo Index
    Restricted index type avoids range checking in array indexing below.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#Key" id="Key"><code class="code">Key</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="Key"></span>template <code class="code">Key</code>(size_t span)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Mutable RawTree <code class="code">Key</code>.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    Radix Modulo Index
    Restricted index type avoids range checking in array indexing below.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#IKey" id="IKey"><code class="code">IKey</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="IKey"></span>template <code class="code">IKey</code>(size_t span)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Immutable RawTree Key.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    Radix Modulo Index
    Restricted index type avoids range checking in array indexing below.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#KeyN" id="KeyN"><code class="code">KeyN</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="KeyN"></span>template <code class="code">KeyN</code>(size_t span, size_t N)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Fixed-Length RawTree Key.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    Radix Modulo Index
    Restricted index type avoids range checking in array indexing below.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#ModStatus" id="ModStatus"><code class="code">ModStatus</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="ModStatus"></span>enum <code class="code">ModStatus</code>: ubyte;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Results of attempt at modification sub.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#cacheLineSize" id="cacheLineSize"><code class="code">cacheLineSize</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="cacheLineSize"></span>enum int <code class="code">cacheLineSize</code>;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Size of a CPU cache line in bytes.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    Container layouts should be adapted to make use of at least this many bytes
    in its nodes.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#OneLeafMax7" id="OneLeafMax7"><code class="code">OneLeafMax7</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="OneLeafMax7"></span>struct <code class="code">OneLeafMax7</code>;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Single/1-Key Leaf with maximum key-length 7.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#TwoLeaf3" id="TwoLeaf3"><code class="code">TwoLeaf3</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="TwoLeaf3"></span>struct <code class="code">TwoLeaf3</code>;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Binary/2-Key Leaf with key-length 3.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#TriLeaf2" id="TriLeaf2"><code class="code">TriLeaf2</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="TriLeaf2"></span>struct <code class="code">TriLeaf2</code>;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Ternary/3-Key Leaf with key-length 2.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#HeptLeaf1" id="HeptLeaf1"><code class="code">HeptLeaf1</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="HeptLeaf1"></span>struct <code class="code">HeptLeaf1</code>;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Hepa/7-Key Leaf with key-length 1.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#construct" id="construct"><code class="code">construct</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="construct"></span>pure nothrow @nogc @trusted auto <code class="code">construct</code>(NodeType, Args...)(Args <code class="code">args</code>) if (!hasVariableLength!NodeType);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Allocate (if pointer) and Construct a <code class="code">Node</code>-type of value type <code class="code">NodeType</code>
    using constructor arguments <code class="code"><code class="code">args</code></code> of <code class="code">Args</code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#FixedKeyLeafN" id="FixedKeyLeafN"><code class="code">FixedKeyLeafN</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="FixedKeyLeafN"></span>alias <code class="code">FixedKeyLeafN</code> = variant_ex.WordVariant!(OneLeafMax7, TwoLeaf3, TriLeaf2).WordVariant;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Fixed-Length leaf Key-only Node.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#Leaf1" id="Leaf1"><code class="code">Leaf1</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="Leaf1"></span>template <code class="code">Leaf1</code>(Value)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Mutable leaf node of 1-Ix leaves.
    Used by branch-leaf.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#firstIx" id="firstIx"><code class="code">firstIx</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="firstIx"></span>UIx <code class="code">firstIx</code>(Value)(Leaf1!Value <code class="code">curr</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code">key</code> is stored under <code class="code"><code class="code">curr</code></code>, <code class="code">false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#tryNextIx" id="tryNextIx"><code class="code">tryNextIx</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="tryNextIx"></span>bool <code class="code">tryNextIx</code>(Value)(Leaf1!Value <code class="code">curr</code>, const UIx <code class="code">ix</code>, out Ix <code class="code">nextIx</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Try to iterate leaf index <code class="code"><code class="code">ix</code></code> to index, either sparse or dense and put result in <code class="code"><code class="code">nextIx</code></code>.

  </p>
</div>
<div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code"><code class="code">nextIx</code></code> was set, <code class="code">false</code> if no more indexes was available.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree" id="RawRadixTree"><code class="code">RawRadixTree</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree"></span>struct <code class="code">RawRadixTree</code>(Value = void);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Adaptive radix tree (ART) container storing untyped (raw) keys.

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    In set-case (<code class="code">Value</code> is <code class="code">void</code>) this container contains specific memory
    optimizations for representing a set pointers or integral types (of fixed
    length).


    Radix-trees are suitable for storing ordered sets/maps with variable-length
    keys and provide completion of all its keys matching a given
    key-prefix. This enables, for instance, efficient storage and retrieval of
    large sets of long URLs with high probability of sharing a common prefix,
    typically a domain and path.


    Branch packing of leaves is more efficient when <code class="code">Key.sizeof</code> is fixed, that
    is, the member <code class="code">hasFixedKeyLength</code> returns <code class="code">true</code>.


    For optimal performance, the individual bit-chunks should be arranged
    starting with most sparse chunks first. For integers this means most
    significant chunk (byte) first. This includes IEEE-compliant floating point
    numbers.


    For a good introduction to adaptive radix trees (ART) see 


  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    


  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    

  </p>
</div>
<div class="ddoc_see_also">
  <h4>See Also</h4>
  <p class="para">
    
  </p>
</div>

</section>
<ul class="ddoc_members">
  <li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.hasValue" id="RawRadixTree.hasValue"><code class="code">hasValue</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.hasValue"></span>alias <code class="code">hasValue</code> = isValue;

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Is <code class="code">true</code> if this tree stores values of type <code class="code">Value</code> along with keys. In
            other words: <code class="code">this</code> is a <i>map</i> rather than a <i>set</i>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.dup" id="RawRadixTree.dup"><code class="code">dup</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.dup"></span>@trusted typeof(this) <code class="code">dup</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Returns a duplicate of this tree if present.
            Shallowly duplicates the values in the map case.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.clear" id="RawRadixTree.clear"><code class="code">clear</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.clear"></span>@nogc void <code class="code">clear</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Removes all contents (elements).
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.prefix" id="RawRadixTree.prefix"><code class="code">prefix</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.prefix"></span>inout inout(Node) <code class="code">prefix</code>(UKey <code class="code">keyPrefix</code>, out UKey <code class="code">keyPrefixRest</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code">key</code> is stored, <code class="code">false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.matchCommonPrefix" id="RawRadixTree.matchCommonPrefix"><code class="code">matchCommonPrefix</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.matchCommonPrefix"></span>inout inout(Node) <code class="code">matchCommonPrefix</code>(UKey <code class="code">key</code>, out UKey <code class="code">keyRest</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Lookup deepest node having whose <code class="code">key</code> starts with <code class="code"><code class="code">key</code></code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.contains" id="RawRadixTree.contains"><code class="code">contains</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.contains"></span>inout inout(Value*) <code class="code">contains</code>(UKey <code class="code">key</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code"><code class="code">key</code></code> is stored, <code class="code">false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.insert" id="RawRadixTree.insert"><code class="code">insert</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.insert"></span>Node <code class="code">insert</code>(UKey <code class="code">key</code>, in Value <code class="code">value</code>, out ElementRef <code class="code">elementRef</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Insert <code class="code"><code class="code">key</code></code> into <code class="code">this</code> tree.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.empty" id="RawRadixTree.empty"><code class="code">empty</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.empty"></span>const bool <code class="code">empty</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> iff tree is <code class="code">empty</code> (no elements stored).
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.length" id="RawRadixTree.length"><code class="code">length</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.length"></span>const size_t <code class="code">length</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    number of elements stored.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.rangeRefCount" id="RawRadixTree.rangeRefCount"><code class="code">rangeRefCount</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.rangeRefCount"></span>const RefCount <code class="code">rangeRefCount</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Get number of <code class="code">Range</code>-instances that currently refer to <code class="code">_rcStore.root</code> of <code class="code">this</code> tree.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RawRadixTree.refCount" id="RawRadixTree.refCount"><code class="code">refCount</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RawRadixTree.refCount"></span>const RefCount <code class="code">refCount</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Reference count.
  </p>
</div>

</section>

</div>

</li>
</ul>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#toFixedRawKey" id="toFixedRawKey"><code class="code">toFixedRawKey</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="toFixedRawKey"></span>@trusted UKey <code class="code">toFixedRawKey</code>(TypedKey)(in TypedKey <code class="code">typedKey</code>, UKey <code class="code">preallocatedFixedUKey</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Remap fixed-length typed key <code class="code"><code class="code">typedKey</code></code> to raw (untyped) key of type <code class="code">UKey</code>.
    TODO use DIP-1000
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#toRawKey" id="toRawKey"><code class="code">toRawKey</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="toRawKey"></span>@trusted UKey <code class="code">toRawKey</code>(TypedKey)(in TypedKey <code class="code">typedKey</code>, ref UncopyableArray!Ix <code class="code">rawUKey</code>) if (isTrieableKeyType!TypedKey);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Remap typed key <code class="code"><code class="code">typedKey</code></code> to raw (untyped) key of type <code class="code">UKey</code>.
    TODO use DIP-1000
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#toTypedKey" id="toTypedKey"><code class="code">toTypedKey</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="toTypedKey"></span>@trusted inout(TypedKey) <code class="code">toTypedKey</code>(TypedKey)(inout(Ix)[] <code class="code">ukey</code>) if (isTrieableKeyType!TypedKey);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Remap raw untyped key <code class="code"><code class="code">ukey</code></code> to typed key of type <code class="code">TypedKey</code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree" id="RadixTree"><code class="code">RadixTree</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree"></span>struct <code class="code">RadixTree</code>(Key, Value) if (allSatisfy!(isTrieableKeyType, Key));

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Radix-Tree with key of type <code class="code">Key</code> and value of type <code class="code">Value</code> (if non-<code class="code">void</code>).
  </p>
</div>

</section>
<ul class="ddoc_members">
  <li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.insert" id="RadixTree.insert"><code class="code">insert</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.insert"></span>@nogc bool <code class="code">insert</code>(in Key <code class="code">key</code>, in Value <code class="code">value</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Insert <code class="code"><code class="code">key</code></code>.

  </p>
</div>
<div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    <code class="code">true</code> if <code class="code"><code class="code">key</code></code> wasn't previously added, <code class="code">false</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.contains" id="RadixTree.contains"><code class="code">contains</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.contains"></span>inout @nogc inout(Value*) <code class="code">contains</code>(in Key <code class="code">key</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_returns">
  <h4>Return Value</h4>
  <p class="para">
    pointer to value if <code class="code"><code class="code">key</code></code> is contained in set, <code class="code">null</code> otherwise.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.byKeyValue" id="RadixTree.byKeyValue"><code class="code">byKeyValue</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.byKeyValue"></span>@nogc Range <code class="code">byKeyValue</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    AA-style key-value range.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.opBinaryRight" id="RadixTree.opBinaryRight"><code class="code">opBinaryRight</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.opBinaryRight"></span>inout auto <code class="code">opBinaryRight</code>(string op)(in Key <code class="code">key</code>) if (op == "in");

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Supports <b><code class="code">Key</code> in <code class="code">this</code></b> syntax.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.prefix" id="RadixTree.prefix"><code class="code">prefix</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.prefix"></span>auto <code class="code">prefix</code>(Key <code class="code">keyPrefix</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Get range over elements whose key starts with <code class="code"><code class="code">keyPrefix</code></code>.
        The element equal to <code class="code"><code class="code">keyPrefix</code></code> is return as an empty instance of the type.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.upperBound" id="RadixTree.upperBound"><code class="code">upperBound</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.upperBound"></span>auto <code class="code">upperBound</code>(Key <code class="code">key</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    This function searches with policy <code class="code">sp</code> to find the largest right subrange
        on which pred(value, x) is <code class="code">true</code> for all x (e.g., if pred is "less than",
        returns the portion of the range with elements strictly greater than
        value).
        TODO Add template param (SearchPolicy sp)

  </p>
</div>
<div class="ddoc_description">
  <h4>Discussion</h4>
  <p class="para">
    TODO replace <code class="code">matchCommonPrefix</code> with something more clever directly
        finds the next element after rawKey and returns a TreeRange at that point
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#RadixTree.dup" id="RadixTree.dup"><code class="code">dup</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="RadixTree.dup"></span>typeof(this) <code class="code">dup</code>();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Returns a duplicate of this tree.
        Shallowly duplicates the values in the map case.
  </p>
</div>

</section>

</div>

</li>
</ul>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#print" id="print"><code class="code">print</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="print"></span>@safe void <code class="code">print</code>(Key, Value)(ref const RadixTree!(Key, Value) <code class="code">tree</code>) if (allSatisfy!(isTrieableKeyType, Key));

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Print <code class="code"><code class="code">tree</code></code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#MutableKey" id="MutableKey"><code class="code">MutableKey</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="MutableKey"></span>template <code class="code">MutableKey</code>(Key)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Keys are stored in a way that they can't be accessed by reference so we
    allow array (and string) keys to be of mutable type.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#radixTreeSet" id="radixTreeSet"><code class="code">radixTreeSet</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="radixTreeSet"></span>@nogc auto <code class="code">radixTreeSet</code>(Key)();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Instantiator for the set-version of <code class="code">RadixTree</code> where value-type is <code class="code">void</code> (unused).
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#radixTreeSetGrowOnly" id="radixTreeSetGrowOnly"><code class="code">radixTreeSetGrowOnly</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="radixTreeSetGrowOnly"></span>@nogc auto <code class="code">radixTreeSetGrowOnly</code>(Key)();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Wrapper for a grow-only variant of <code class="code">radixTreeSet</code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#radixTreeMap" id="radixTreeMap"><code class="code">radixTreeMap</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="radixTreeMap"></span>auto <code class="code">radixTreeMap</code>(Key, Value)();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Instantiator for the map-version of <code class="code">RadixTree</code> where value-type is <code class="code">Value</code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#radixTreeMapGrowOnly" id="radixTreeMapGrowOnly"><code class="code">radixTreeMapGrowOnly</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="radixTreeMapGrowOnly"></span>auto <code class="code">radixTreeMapGrowOnly</code>(Key, Value)();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Wrapper for a grow-only variant of <code class="code">radixTreeMap</code>.
  </p>
</div>
<div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    
<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">version</span>(enterSingleInfiniteMemoryLeakTest)
{
    <span class="keyword">while</span> (<span class="keyword">true</span>)
    {
        checkNumeric!(<span class="keyword">bool</span>, <span class="keyword">float</span>, <span class="keyword">double</span>,
                      <span class="keyword">long</span>, <span class="keyword">int</span>, <span class="keyword">short</span>, <span class="keyword">byte</span>,
                      <span class="keyword">ulong</span>, <span class="keyword">uint</span>, <span class="keyword">ushort</span>, <span class="keyword">ubyte</span>);
    }
}
<span class="keyword">else</span>
{
    checkNumeric!(<span class="keyword">bool</span>, <span class="keyword">float</span>, <span class="keyword">double</span>,
                  <span class="keyword">long</span>, <span class="keyword">int</span>, <span class="keyword">short</span>, <span class="keyword">byte</span>,
                  <span class="keyword">ulong</span>, <span class="keyword">uint</span>, <span class="keyword">ushort</span>, <span class="keyword">ubyte</span>);
}
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    exercise all switch-cases in <code class="code">RawRadixTree.prefixAt()</code>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.algorithm : equal;
<span class="keyword">alias</span> Key = string;
<span class="keyword">auto</span> set = radixTreeSet!(Key);

set.clear();
set.insert(<span class="string_literal">`-----1`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----2`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----3`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----4`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----5`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----6`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----7`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----8`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>, <span class="string_literal">`8`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----____`</span>).empty);
set.insert(<span class="string_literal">`-----11`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`11`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>, <span class="string_literal">`8`</span>]));
set.insert(<span class="string_literal">`-----22`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`11`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`22`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>, <span class="string_literal">`8`</span>]));
set.insert(<span class="string_literal">`-----33`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`11`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`22`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`33`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>, <span class="string_literal">`8`</span>]));
set.insert(<span class="string_literal">`-----44`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1`</span>, <span class="string_literal">`11`</span>, <span class="string_literal">`2`</span>, <span class="string_literal">`22`</span>, <span class="string_literal">`3`</span>, <span class="string_literal">`33`</span>, <span class="string_literal">`4`</span>, <span class="string_literal">`44`</span>, <span class="string_literal">`5`</span>, <span class="string_literal">`6`</span>, <span class="string_literal">`7`</span>, <span class="string_literal">`8`</span>]));

set.clear();
set.insert(<span class="string_literal">`-----11`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`11`</span>]));
set.insert(<span class="string_literal">`-----22`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`11`</span>, <span class="string_literal">`22`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----___`</span>).empty);

set.clear();
set.insert(<span class="string_literal">`-----111`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`111`</span>]));
set.insert(<span class="string_literal">`-----122`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`111`</span>, <span class="string_literal">`122`</span>]));
set.insert(<span class="string_literal">`-----133`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`111`</span>, <span class="string_literal">`122`</span>, <span class="string_literal">`133`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----1`</span>).equal([<span class="string_literal">`11`</span>, <span class="string_literal">`22`</span>, <span class="string_literal">`33`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----1_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----1___`</span>).empty);

set.clear();
set.insert(<span class="string_literal">`-----1111`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`1111`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----___`</span>).empty);

set.clear();
set.insert(<span class="string_literal">`-----11111`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`11111`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----___`</span>).empty);
set.insert(<span class="string_literal">`-----12222`</span>);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----`</span>).equal([<span class="string_literal">`11111`</span>, <span class="string_literal">`12222`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----___`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----12`</span>).equal([<span class="string_literal">`222`</span>]));
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----12_`</span>).empty);
<span class="keyword">assert</span>(set.prefix(<span class="string_literal">`-----12____`</span>).empty);
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    test floating-point key range sortedness

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">alias</span> T = <span class="keyword">double</span>;

<span class="keyword">auto</span> set = radixTreeSet!(T);

<span class="keyword">import</span> std.range: isForwardRange;
<span class="keyword">static</span> <span class="keyword">assert</span>(isForwardRange!(<span class="keyword">typeof</span>(set[])));

set.insert(-1.1e6);
set.insert(-2.2e9);
set.insert(-1.1);
set.insert(+2.2);
set.insert(T.max);
set.insert(-T.max);
set.insert(-3.3);
set.insert(-4.4);
set.insert(+4.4);
set.insert(+3.3);
set.insert(+1.1e6);
set.insert(+2.2e9);

<span class="keyword">import</span> std.algorithm.sorting : isSorted;
<span class="keyword">assert</span>(set[].isSorted);
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div>
</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#showStatistics" id="showStatistics"><code class="code">showStatistics</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="showStatistics"></span>void <code class="code">showStatistics</code>(RT)(ref const RT <code class="code">tree</code>);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Calculate and print statistics of <code class="code"><code class="code">tree</code></code>.
  </p>
</div>
<div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    test map from <code class="code">uint</code> to values of type <code class="code">double</code>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">alias</span> Key = <span class="keyword">uint</span>;
<span class="keyword">alias</span> Value = <span class="keyword">uint</span>;

<span class="keyword">auto</span> map = radixTreeMap!(Key, Value);
<span class="keyword">assert</span>(map.empty);

<span class="keyword">static</span> <span class="keyword">assert</span>(map.hasValue);

<span class="keyword">static</span> Value keyToValue(Key key) @safe <span class="keyword">pure</span> <span class="keyword">nothrow</span> @nogc { <span class="keyword">return</span> <span class="keyword">cast</span>(Value)((key + 1)*radix); }

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; 0 .. SparseLeaf1!Value.maxCapacity)
{
    <span class="keyword">assert</span>(!map.contains(i));
    <span class="keyword">assert</span>(map.length == i);
    map[i] = keyToValue(i);
    <span class="keyword">assert</span>(map.contains(i));
    <span class="keyword">assert</span>(*map.contains(i) == keyToValue(i));
    <span class="keyword">assert</span>(i <span class="keyword">in</span> map);
    <span class="keyword">assert</span>(*(i <span class="keyword">in</span> map) == keyToValue(i));
    <span class="keyword">assert</span>(map.length == i + 1);
}

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; SparseLeaf1!Value.maxCapacity .. radix)
{
    <span class="keyword">assert</span>(!map.contains(i));
    <span class="keyword">assert</span>(map.length == i);
    map[i] = keyToValue(i);
    <span class="keyword">assert</span>(map.contains(i));
    <span class="keyword">assert</span>(*map.contains(i) == keyToValue(i));
    <span class="keyword">assert</span>(i <span class="keyword">in</span> map);
    <span class="keyword">assert</span>(*(i <span class="keyword">in</span> map) == keyToValue(i));
    <span class="keyword">assert</span>(map.length == i + 1);
}

<span class="keyword">assert</span>(map.rangeRefCount == 0);

<span class="comment">// test range
</span>size_t i = 0;
<span class="keyword">foreach</span> (<span class="keyword">const</span> elt; map[])
{
    <span class="keyword">assert</span>(map.rangeRefCount == 1);
    {
        <span class="keyword">auto</span> mapRange = map[];
        <span class="keyword">assert</span>(map.rangeRefCount == 2);
    }
    <span class="keyword">assert</span>(map.rangeRefCount == 1);

    <span class="keyword">const</span> Key key = elt[0];
    <span class="keyword">const</span> Value value = elt[1];

    <span class="keyword">assert</span>(key == i);
    <span class="keyword">assert</span>(value == keyToValue(<span class="keyword">cast</span>(Key)i)); <span class="comment">// TODO use typed key instead of cast(Key)
</span>
    ++i;
}

<span class="keyword">assert</span>(map.rangeRefCount == 0);
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div>
</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#testString" id="testString"><code class="code">testString</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="testString"></span>auto <code class="code">testString</code>(Keys...)(size_t <code class="code">count</code>, uint <code class="code">maxLength</code>) if (Keys.length &gt;= 1);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Check string types in <code class="code">Keys</code>.
  </p>
</div>
<div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    
<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="psymbol">testString</span>!(string)(512, 8);
<span class="psymbol">testString</span>!(string)(2^^18, 2^^5);
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    test map to values of type <code class="code">bool</code>

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">alias</span> Key = <span class="keyword">uint</span>;
<span class="keyword">alias</span> Value = <span class="keyword">bool</span>;

<span class="keyword">auto</span> map = radixTreeMap!(Key, Value);
<span class="keyword">assert</span>(map.empty);

<span class="keyword">static</span> <span class="keyword">assert</span>(map.hasValue);
map.insert(Key.init, Value.init);
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    test packing of set elements

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">auto</span> set = radixTreeSet!(<span class="keyword">ulong</span>);
<span class="keyword">enum</span> N = HeptLeaf1.capacity;

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; 0 .. N)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));
}

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; N .. 256)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));
}

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; 256 .. 256 + N)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));
}

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; 256 + N .. 256 + 256)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));
}
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    
<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">auto</span> set = radixTreeSet!(<span class="keyword">ubyte</span>);
<span class="keyword">alias</span> Set = <span class="keyword">typeof</span>(set);

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; 0 .. HeptLeaf1.capacity)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="comment">// debug assert(set.heapAllocationBalance == 0);
</span>    <span class="keyword">const</span> rootRef = set.getRoot.peek!(HeptLeaf1);
    <span class="keyword">assert</span>(rootRef);
}

<span class="keyword">foreach</span> (<span class="keyword">const</span> i; HeptLeaf1.capacity .. 256)
{
    <span class="keyword">assert</span>(!set.contains(i));

    <span class="keyword">assert</span>(set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="keyword">assert</span>(!set.insert(i));
    <span class="keyword">assert</span>(set.contains(i));

    <span class="comment">// debug assert(set.heapAllocationBalance == 1);
</span>    <span class="comment">// const rootRef = set.getRoot.peek!(SparseLeaf1!void*);
</span>    <span class="comment">// assert(rootRef);
</span>}

<span class="comment">// const rootRef = set.getRoot.peek!(SparseLeaf1!void*);
</span><span class="comment">// assert(rootRef);
</span>
<span class="comment">// const root = *rootRef;
</span><span class="comment">// assert(!root.empty);
</span><span class="comment">// assert(root.full);
</span></code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    
<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">import</span> std.meta : AliasSeq;
<span class="keyword">foreach</span> (T; AliasSeq!(<span class="keyword">ushort</span>, <span class="keyword">uint</span>))
{
    <span class="keyword">auto</span> set = radixTreeSet!(T);
    <span class="keyword">alias</span> Set = <span class="keyword">typeof</span>(set);

    <span class="keyword">foreach</span> (<span class="keyword">const</span> i; 0 .. 256)
    {
        <span class="keyword">assert</span>(!set.contains(i));

        <span class="keyword">assert</span>(set.insert(i));
        <span class="keyword">assert</span>(set.contains(i));

        <span class="keyword">assert</span>(!set.insert(i));
        <span class="keyword">assert</span>(set.contains(i));
    }

    <span class="comment">// 256
</span>    <span class="keyword">assert</span>(!set.contains(256));

    <span class="keyword">assert</span>(set.insert(256));
    <span class="keyword">assert</span>(set.contains(256));

    <span class="keyword">assert</span>(!set.insert(256));
    <span class="keyword">assert</span>(set.contains(256));

    <span class="comment">// 257
</span>    <span class="keyword">assert</span>(!set.contains(257));

    <span class="keyword">assert</span>(set.insert(257));
    <span class="keyword">assert</span>(set.contains(257));

    <span class="keyword">assert</span>(!set.insert(257));
    <span class="keyword">assert</span>(set.contains(257));

    <span class="keyword">const</span> rootRef = set.getRoot.peek!(Set.DefaultBranchType*);
    <span class="keyword">assert</span>(rootRef);
    <span class="keyword">const</span> root = *rootRef;
    <span class="keyword">assert</span>(root.prefix.length == T.sizeof - 2);

}
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div>
</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#testWords" id="testWords"><code class="code">testWords</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="testWords"></span>void <code class="code">testWords</code>(Value)();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Create a set of words from /usr/share/dict/words
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#checkNumeric" id="checkNumeric"><code class="code">checkNumeric</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="checkNumeric"></span>auto <code class="code">checkNumeric</code>(Keys...)() if (Keys.length &gt;= 1);

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Check correctness when span is <code class="code">span</code> and for each <code class="code">Key</code> in <code class="code">Keys</code>.
  </p>
</div>

</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#benchmark" id="benchmark"><code class="code">benchmark</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="benchmark"></span>void <code class="code">benchmark</code>()();

          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Benchmark performance and memory usage when span is <code class="code">span</code>.
  </p>
</div>
<div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    
<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="keyword">struct</span> S { <span class="keyword">int</span> x; }

<span class="keyword">alias</span> Key = S;
<span class="keyword">auto</span> set = radixTreeSet!(Key);

<span class="keyword">assert</span>(!set.contains(S(43)));

<span class="keyword">assert</span>(set.insert(S(43)));
<span class="keyword">assert</span>(set.contains(S(43)));

<span class="keyword">assert</span>(!set.insert(S(43)));
<span class="keyword">assert</span>(set.contains(S(43)));
</code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div><div class="ddoc_examples">
  <h4>Examples</h4>
  <p class="para">
    TODO activate

<section class="code_listing">
  <div class="code_sample">
    <div class="dlang">
      <ol class="code_lines">
        <li><code class="code"><span class="comment">// alias Key = string;
</span><span class="comment">// alias Value = UncopyableArray!int;
</span><span class="comment">// RadixTreeMapGrowOnly!(Key, Value) map;
</span></code></li>
      </ol>
    </div>
  </div>
</section>

  </p>
</div>
</section>

</div>

</li><li class="ddoc_member">
  <div class="ddoc_member_header">
  <div class="ddoc_header_anchor">
  <a href="#iota" id="iota"><code class="code">iota</code></a>
</div>
</div><div class="ddoc_decl">
  <section class="section">
    <div class="declaration">
      <h4>Declaration</h4>
      <div class="dlang">
        <p class="para">
          <code class="code">
            <span class="ddoc_anchor" id="iota"></span>template <code class="code">iota</code>(size_t from, size_t to) if (from &lt;= to)
          </code>
        </p>
      </div>
    </div>
  </section>
</div>
<div class="ddoc_decl">
  <section class="section ddoc_sections">
  <div class="ddoc_summary">
  <p class="para">
    Static Iota.
    TODO Move to Phobos std.range.
  </p>
</div>

</section>

</div>

</li>
</ul>
  </div>
</section>
</section>
      </article>
    </div>
  </body>
</html>
